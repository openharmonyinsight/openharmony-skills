# Linux ç¼–è¯‘å·¥ä½œæµ

> **æ¨¡å—ä¿¡æ¯**
> - å±‚çº§ï¼šL4_Build
> - ä¼˜å…ˆçº§ï¼šæŒ‰éœ€åŠ è½½
> - é€‚ç”¨èŒƒå›´ï¼šLinux ç¯å¢ƒä¸‹çš„ XTS æµ‹è¯•å·¥ç¨‹ç¼–è¯‘
> - å¹³å°ï¼šLinux
> - ä¾èµ–ï¼šL1_Framework, L2_Analysis, L3_Generation
> - ç›¸å…³ï¼š`build_workflow_windows.md`ï¼ˆWindows ç¼–è¯‘æ–¹æ¡ˆï¼‰

> **âš ï¸ é‡è¦æç¤ºï¼ˆLinux ç¯å¢ƒï¼‰**
>
> **åœ¨ Linux ç¯å¢ƒä¸‹ç¼–è¯‘ XTS æµ‹è¯•å·¥ç¨‹ï¼Œå¿…é¡»ä½¿ç”¨ `./test/xts/acts/build.sh` è„šæœ¬è¿›è¡Œç¼–è¯‘ã€‚**
>
> - âœ… **æ­£ç¡®æ–¹å¼**ï¼šä½¿ç”¨ `./test/xts/acts/build.sh` è„šæœ¬
> - âŒ **é”™è¯¯æ–¹å¼**ï¼šä¸è¦ä½¿ç”¨ `hvigorw` å‘½ä»¤
>
> **åŸå› **ï¼š
> 1. `./test/xts/acts/build.sh` æ˜¯ XTS æµ‹è¯•å·¥ç¨‹çš„å®˜æ–¹ç¼–è¯‘è„šæœ¬
> 2. `./test/xts/acts/build.sh` ä¼šæ­£ç¡®å¤„ç† BUILD.gn é…ç½®ã€ä¾èµ–å…³ç³»å’Œæµ‹è¯•å¥—ç»“æ„
> 3. `hvigorw` æ˜¯ Windows/DevEco Studio çš„ç¼–è¯‘å·¥å…·ï¼Œä¸é€‚ç”¨äº Linux ç¯å¢ƒ
> 4. ä½¿ç”¨ `hvigorw` å¯èƒ½å¯¼è‡´ç¼–è¯‘å¤±è´¥æˆ–ç”Ÿæˆçš„ HAP åŒ…ä¸æ­£ç¡®
>
> **ç¼–è¯‘å‘½ä»¤ç¤ºä¾‹**ï¼š
> ```bash
> # æ­£ç¡®ï¼šä½¿ç”¨ ./test/xts/acts/build.sh
> ./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=ActsUiTest
>
> # é”™è¯¯ï¼šä¸è¦ä½¿ç”¨ hvigorwï¼ˆLinux ç¯å¢ƒä¸‹ä¸é€‚ç”¨ï¼‰
> # hvigorw assembleHap  # âŒ ä¸è¦åœ¨ Linux ç¯å¢ƒä¸‹ä½¿ç”¨
> ```

---

## ä¸€ã€æ¨¡å—æ¦‚è¿°

Linux ç¼–è¯‘å·¥ä½œæµæ¨¡å—æä¾›åœ¨ Linux ç¯å¢ƒä¸‹ OpenHarmony XTS æµ‹è¯•å·¥ç¨‹çš„å®Œæ•´ç¼–è¯‘æŒ‡å¯¼ã€‚

### 1.1 æ ¸å¿ƒåŠŸèƒ½

- **ç¼–è¯‘å·¥ä½œæµå¯¼èˆª** - æŒ‡å¯¼åŠ¨æ€å’Œé™æ€æµ‹è¯•å¥—ç¼–è¯‘æµç¨‹
- **ç¼–è¯‘å‘½ä»¤** - å•ç›®æ ‡ã€å¤šç›®æ ‡ç¼–è¯‘å‘½ä»¤
- **ç¼–è¯‘éªŒè¯** - ç¼–è¯‘äº§ç‰©éªŒè¯æ–¹æ³•
- **subagent æ‰§è¡Œ** - ä½¿ç”¨ general subagent æ‰§è¡Œç¼–è¯‘ä»»åŠ¡ï¼Œé¿å…ä¸»æµç¨‹ä¸­æ–­
- **ç›‘å¬æœºåˆ¶** - ç›‘å¬ç¼–è¯‘è¿›ç¨‹ç›´è‡³å®Œæˆï¼Œç¡®ä¿ç¼–è¯‘çŠ¶æ€æ­£ç¡®è¿”å›
- **é”™è¯¯å¤„ç†** - è‡ªåŠ¨ä¿®å¤è¯­æ³•é”™è¯¯ï¼Œé…ç½®é”™è¯¯éœ€ç¡®è®¤åä¿®æ”¹

### 1.2 åº”ç”¨åœºæ™¯

1. å‡†å¤‡ Linux ç¼–è¯‘ç¯å¢ƒ
2. é…ç½® BUILD.gn æ–‡ä»¶
3. æ‰§è¡Œé¢„ç¼–è¯‘æ¸…ç†
4. é€‰æ‹©ç¼–è¯‘ç±»å‹ï¼ˆåŠ¨æ€æˆ–é™æ€ï¼‰
5. ä½¿ç”¨ subagent æ‰§è¡Œç¼–è¯‘ä»»åŠ¡
6. ç›‘å¬ç¼–è¯‘è¿›ç¨‹ç›´è‡³å®Œæˆ
7. å¤„ç†ç¼–è¯‘é”™è¯¯ï¼ˆè‡ªåŠ¨ä¿®å¤è¯­æ³•é”™è¯¯ï¼Œé…ç½®é”™è¯¯éœ€ç¡®è®¤ï¼‰
8. éªŒè¯ç¼–è¯‘äº§ç‰©

### 1.3 ç›¸å…³æ¨¡å—ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰

| ä»»åŠ¡ç±»å‹ | åŠ è½½æ¨¡å— |
|---------|---------|
| **ç¯å¢ƒå‡†å¤‡** | [linux_compile_env_setup.md](./linux_compile_env_setup.md) |
| **BUILD.gn é…ç½®** | [build_gn_config.md](./build_gn_config.md) |
| **é¢„ç¼–è¯‘æ¸…ç†** | [linux_prebuild_cleanup.md](./linux_prebuild_cleanup.md) |
| **é—®é¢˜æ’æŸ¥** | [linux_compile_troubleshooting.md](./linux_compile_troubleshooting.md) |
| **åŠ¨æ€æµ‹è¯•å¥—ç¼–è¯‘** | [linux_compile_dynamic_suite.md](./linux_compile_dynamic_suite.md) |
| **é™æ€æµ‹è¯•å¥—ç¼–è¯‘** | [linux_compile_static_suite.md](./linux_compile_static_suite.md) |

### 1.4 ç¼–è¯‘æ–¹å¼è¯´æ˜ï¼ˆé‡è¦ï¼‰

**Linux ç¯å¢ƒä¸‹çš„å”¯ä¸€æ­£ç¡®ç¼–è¯‘æ–¹å¼**ï¼š

| ç¯å¢ƒ | ç¼–è¯‘å·¥å…· | ç¼–è¯‘å‘½ä»¤ | è¯´æ˜ |
|------|---------|---------|------|
| **Linux** | `build.sh` | `./test/xts/acts/build.sh ...` | âœ… **å¿…é¡»ä½¿ç”¨** |
| **Windows** | `hvigorw.bat` | `hvigorw.bat assembleHap ...` | Windows ä¸“ç”¨ |

**Linux ç¯å¢ƒä¸‹ä¸è¦ä½¿ç”¨çš„æ–¹å¼**ï¼š
- âŒ ä¸è¦ä½¿ç”¨ `hvigorw` å‘½ä»¤
- âŒ ä¸è¦ä½¿ç”¨ DevEco Studio çš„ç¼–è¯‘åŠŸèƒ½ï¼ˆWindows ä¸“ç”¨ï¼‰
- âŒ ä¸è¦å°è¯•ç›´æ¥è°ƒç”¨ GN æˆ– Ninja å‘½ä»¤

**ä¸ºä»€ä¹ˆ Linux å¿…é¡»ä½¿ç”¨ build.sh**ï¼š
1. `build.sh` å°è£…äº†å®Œæ•´çš„ç¼–è¯‘æµç¨‹
2. æ­£ç¡®å¤„ç† OpenHarmony çš„æ„å»ºç³»ç»Ÿï¼ˆGN + Ninjaï¼‰
3. è‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡å’Œå·¥å…·é“¾
4. æ”¯æŒæµ‹è¯•å¥—çš„ç‰¹å®šç¼–è¯‘éœ€æ±‚
5. ä¸ XTS æµ‹è¯•æ¡†æ¶å®Œå…¨å…¼å®¹

---

## äºŒã€ç¼–è¯‘ç±»å‹é€‰æ‹©

### 2.1 åŠ¨æ€æµ‹è¯•å¥— vs é™æ€æµ‹è¯•å¥—

| ç‰¹æ€§ | åŠ¨æ€æµ‹è¯•å¥— | é™æ€æµ‹è¯•å¥— |
|------|-----------|-----------|
| **BUILD.gn é…ç½®** | `ohos_js_app_suite()` | `ohos_js_app_static_suite()` |
| **test_hap æ ‡å¿—** | `test_hap = true` | **ä¸è®¾ç½®** test_hap |
| **ç¼–è¯‘å‚æ•°** | é»˜è®¤ï¼ˆä¸æŒ‡å®š xts_suitetypeï¼‰ | **å¿…é¡»æŒ‡å®š** `xts_suitetype=hap_static` |
| **SDK ç¼–è¯‘** | ä½¿ç”¨ç³»ç»Ÿç°æœ‰ SDK | **åŒæ­¥ç¼–è¯‘**é™æ€ SDK |
| **é€‚ç”¨åœºæ™¯** | æ™®é€šæµ‹è¯•å¥— | éœ€è¦ arkTS é™æ€è¯­æ³•çš„æµ‹è¯•å¥— |
| **HAP åŒ…** | åŠ¨æ€ HAP | é™æ€ HAP |

### 2.2 å¦‚ä½•é€‰æ‹©ç¼–è¯‘ç±»å‹

#### é€‰æ‹©åŠ¨æ€æµ‹è¯•å¥—ç¼–è¯‘

**é€‚ç”¨æƒ…å†µ**ï¼š
- æ™®é€šçš„ XTS æµ‹è¯•å¥—
- ä¸éœ€è¦ arkTS é™æ€è¯­æ³•ç‰¹æ€§
- å¤§å¤šæ•°ç°æœ‰æµ‹è¯•å¥—

**ç¼–è¯‘å‘½ä»¤**ï¼š
```bash
cd {OH_ROOT}
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite={æµ‹è¯•å¥—åç§°}
```

**è¯¦ç»†æ–‡æ¡£**ï¼š[linux_compile_dynamic_suite.md](./linux_compile_dynamic_suite.md)

#### é€‰æ‹©é™æ€æµ‹è¯•å¥—ç¼–è¯‘

**é€‚ç”¨æƒ…å†µ**ï¼š
- éœ€è¦ arkTS é™æ€è¯­æ³•çš„æµ‹è¯•å¥—ï¼ˆå¦‚ API 23+ï¼‰
- ä½¿ç”¨äº†é™æ€è¯­è¨€ç‰¹æ€§çš„æµ‹è¯•ä»£ç 
- æ˜ç¡®æ ‡æ³¨ä¸ºé™æ€æµ‹è¯•å¥—

**ç¼–è¯‘å‘½ä»¤**ï¼š
```bash
# é¦–æ¬¡ç¼–è¯‘å‰æ¸…ç† SDK ç¼“å­˜
cd {OH_ROOT}
rm -rf prebuilts/ohos-sdk/linux

# ç¼–è¯‘é™æ€æµ‹è¯•å¥—
cd {OH_ROOT}
./test/xts/acts/build.sh product_name=rk3568 system_size=standard xts_suitetype=hap_static suite={æµ‹è¯•å¥—åç§°}
```

**è¯¦ç»†æ–‡æ¡£**ï¼š[linux_compile_static_suite.md](./linux_compile_static_suite.md)

### 2.3 å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Linux ç¼–è¯‘å·¥ä½œæµï¼ˆä¸»å…¥å£ï¼‰                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  æ­¥éª¤1ï¼šç¯å¢ƒå‡†å¤‡ï¼ˆé¦–æ¬¡å¿…éœ€ï¼‰  â”‚
          â”‚  æ¨¡å—ï¼šlinux_compile_env_setup â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  æ­¥éª¤2ï¼šé…ç½® BUILD.gn          â”‚
          â”‚  æ¨¡å—ï¼šbuild_gn_config         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  æ­¥éª¤3ï¼šé¢„ç¼–è¯‘æ¸…ç†ï¼ˆæ¯æ¬¡å¿…éœ€ï¼‰  â”‚
          â”‚  æ¨¡å—ï¼šlinux_prebuild_cleanup  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  æ­¥éª¤4ï¼šé€‰æ‹©ç¼–è¯‘ç±»å‹           â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
          â”‚  â”‚ åŠ¨æ€æµ‹è¯•å¥—ï¼Ÿ â”‚          â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
          â”‚          â”‚                    â”‚
          â”‚         Yesâ”‚No                â”‚
          â”‚          â”‚                   â”‚
          â”‚     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”            â”‚
          â”‚     â”‚ æ­¥éª¤5aï¼š    â”‚ æ­¥éª¤5bï¼š   â”‚
          â”‚     â”‚ åŠ¨æ€ç¼–è¯‘    â”‚ é™æ€ç¼–è¯‘   â”‚
          â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â”‚                    â”‚              â”‚
          â”‚                    â–¼              â”‚
          â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚     â”‚  æ­¥éª¤5cï¼šsubagent æ‰§è¡Œç¼–è¯‘   â”‚  â”‚
          â”‚     â”‚  ï¼ˆä½¿ç”¨ general subagentï¼‰   â”‚  â”‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â”‚                    â”‚              â”‚
          â”‚                    â–¼              â”‚
          â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚     â”‚  æ­¥éª¤5dï¼šç›‘å¬ç¼–è¯‘è¿›ç¨‹         â”‚  â”‚
          â”‚     â”‚  ï¼ˆç­‰å¾…ç¼–è¯‘å®Œæˆï¼‰             â”‚  â”‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â”‚                    â”‚              â”‚
          â”‚                    â–¼              â”‚
          â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚     â”‚  æ­¥éª¤6ï¼šç¼–è¯‘ç»“æœå¤„ç†         â”‚  â”‚
          â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
          â”‚     â”‚  â”‚ ç¼–è¯‘æˆåŠŸï¼Ÿ          â”‚   â”‚  â”‚
          â”‚     â”‚  â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚  â”‚
          â”‚     â”‚  â”‚  â”‚Yesâ”‚   No â”‚       â”‚   â”‚  â”‚
          â”‚     â”‚  â”‚  â”‚   â”‚      â”‚       â”‚   â”‚  â”‚
          â”‚     â”‚  â”‚  â–¼   â–¼      â”‚       â”‚   â”‚  â”‚
          â”‚     â”‚  â”‚å®Œæˆ é”™è¯¯å¤„ç†â”‚       â”‚   â”‚  â”‚
          â”‚     â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚  â”‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
          â”‚               â”‚                  â”‚  â”‚
          â”‚               â–¼                  â”‚  â”‚
          â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚     â”‚  æ­¥éª¤7ï¼šé”™è¯¯å¤„ç†ï¼ˆå¦‚æœ‰ï¼‰     â”‚  â”‚
          â”‚     â”‚  â”œâ”€ è¯­æ³•é”™è¯¯ï¼šè‡ªåŠ¨ä¿®å¤      â”‚  â”‚
          â”‚     â”‚  â”œâ”€ é…ç½®é”™è¯¯ï¼šç¡®è®¤åä¿®æ”¹    â”‚  â”‚
          â”‚     â”‚  â””â”€ å…¶ä»–é”™è¯¯ï¼šæ‰‹åŠ¨æ’æŸ¥      â”‚  â”‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    ç¼–è¯‘æˆåŠŸï¼Ÿ
                     â”‚      â”‚
                    Yes     No
                     â”‚      â”‚
                     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ­¥éª¤8ï¼šé—®é¢˜æ’æŸ¥
                     â”‚                   æ¨¡å—ï¼šlinux_compile_troubleshooting
                     â”‚
                     â–¼
               ç¼–è¯‘å®Œæˆ
```

---

## ä¸‰ã€å¿«é€Ÿå‚è€ƒ

### 3.1 ç¼–è¯‘ç±»å‹å¯¹ç…§è¡¨

| ç¼–è¯‘ç±»å‹ | è¯¦ç»†æ–‡æ¡£ | ç¼–è¯‘å‘½ä»¤ | ç‰¹æ®Šè¦æ±‚ |
|---------|---------|---------|---------|
| **åŠ¨æ€æµ‹è¯•å¥—** | [linux_compile_dynamic_suite.md](./linux_compile_dynamic_suite.md) | `./test/xts/acts/build.sh ...` | æ— ç‰¹æ®Šè¦æ±‚ |
| **é™æ€æµ‹è¯•å¥—** | [linux_compile_static_suite.md](./linux_compile_static_suite.md) | `./test/xts/acts/build.sh ... xts_suitetype=hap_static` | 1. æ¸…ç† SDK ç¼“å­˜<br>2. æ·»åŠ  hap_static å‚æ•° |

### 3.2 å‚è€ƒè·¯å¾„

| ç±»å‹ | è·¯å¾„ |
|------|------|
| ç¼–è¯‘è„šæœ¬ | `./test/xts/acts/build.sh` |
| æ¨¡æ¿æ–‡ä»¶ | `./test/xts/tools/build/suite.gni` |
| æµ‹è¯•æ¡†æ¶ | `./test/xts/acts/` |
| ç¼–è¯‘è¾“å‡º | `out/{product_name}/suites/acts/acts/testcases/` |

---

## å››ã€ç‰ˆæœ¬å†å²

- **v3.1.0** (2026-02-11): **æ·»åŠ  subagent æ‰§è¡Œå’Œé”™è¯¯å¤„ç†æœºåˆ¶**
  - **æ ¸å¿ƒæ›´æ–°**ï¼š
    * æ–°å¢ subagent æ‰§è¡Œç¼–è¯‘ä»»åŠ¡è§„èŒƒ
    * æ–°å¢ç¼–è¯‘è¿›ç¨‹ç›‘å¬æœºåˆ¶
    * æ–°å¢è‡ªåŠ¨é”™è¯¯å¤„ç†æµç¨‹
  - **é”™è¯¯å¤„ç†ç­–ç•¥**ï¼š
    * è¯­æ³•é”™è¯¯ï¼šè‡ªåŠ¨åˆ†ææ—¥å¿—å¹¶ä¿®å¤
    * é…ç½®é”™è¯¯ï¼šå‘ç”¨æˆ·ç¡®è®¤åæ‰ä¿®æ”¹
    * å…¶ä»–é”™è¯¯ï¼šæ‰‹åŠ¨æ’æŸ¥
  - **æ–°å¢ç« èŠ‚**ï¼š
    * æ›´æ–°æ ¸å¿ƒåŠŸèƒ½è¯´æ˜
    * æ›´æ–°åº”ç”¨åœºæ™¯è¯´æ˜
    * æ›´æ–°å·¥ä½œæµç¨‹å›¾ï¼ˆå¢åŠ  subagent æ‰§è¡Œã€ç›‘å¬ã€é”™è¯¯å¤„ç†æ­¥éª¤ï¼‰
    * æ–°å¢ç¼–è¯‘å‘½ä»¤æ‰§è¡Œè§„èŒƒï¼ˆsubagent æ‰§è¡Œè§„èŒƒï¼‰
    * æ–°å¢ç¼–è¯‘é”™è¯¯å¤„ç†ç« èŠ‚ï¼ˆ4.2ï¼‰
  - ç‰ˆæœ¬å·å‡çº§è‡³ v3.1.0

- **v3.0.0** (2026-02-10): é‡æ„ä¸ºç¼–è¯‘å·¥ä½œæµä¸»å…¥å£æ–‡æ¡£
  - æ‹†åˆ†ä¸ºåŠ¨æ€å’Œé™æ€æµ‹è¯•å¥—ä¸¤ä¸ªå­æ–‡æ¡£
  - æä¾›ç¼–è¯‘ç±»å‹é€‰æ‹©æŒ‡å¯¼
  - æ›´æ–°å·¥ä½œæµç¨‹å›¾
  - ç®€åŒ–ä¸»æ–‡æ¡£å†…å®¹ï¼Œä¸“æ³¨äºå¯¼èˆªåŠŸèƒ½
  
- **v2.1.0** (2026-02-10): ç²¾ç®€æ¸…ç†æ–¹æ¡ˆï¼Œç»Ÿä¸€ä½¿ç”¨ cleanup_group.sh
  - **æ›´æ–°æ¸…ç†ç¤ºä¾‹**ï¼šå°†æ‰‹åŠ¨æ¸…ç†å‘½ä»¤æ”¹ä¸ºä½¿ç”¨ç»Ÿä¸€çš„ cleanup_group.sh è„šæœ¬
  - **æ›´æ–°å±‚çº§ä¿¡æ¯**ï¼šæ¨¡å—å±‚çº§ä» L2_Analysis æ›´æ­£ä¸º L4_Build
  - **ä¿æŒä¸€è‡´æ€§**ï¼šä¸ç²¾ç®€åçš„ linux_prebuild_cleanup.md ä¿æŒä¸€è‡´

- **v2.0.0** (2026-02-06): å¤§è§„æ¨¡é‡æ„ï¼Œæ¨¡å—åŒ–æ‹†åˆ†
  - **æ‹†åˆ†å‡º 4 ä¸ªç‹¬ç«‹æ¨¡å—**ï¼š
    - `linux_compile_env_setup.md` - ç¼–è¯‘ç¯å¢ƒå‡†å¤‡
    - `linux_prebuild_cleanup.md` - é¢„ç¼–è¯‘æ¸…ç†
    - `build_gn_config.md` - BUILD.gn é…ç½®
    - `linux_compile_troubleshooting.md` - ç¼–è¯‘é—®é¢˜æ’æŸ¥
  - **ç®€åŒ–ä¸»æ–‡ä»¶**ï¼šä¸“æ³¨äºæ ¸å¿ƒç¼–è¯‘å·¥ä½œæµ
  - **æ–°å¢å·¥ä½œæµç¨‹å›¾**ï¼šå¯è§†åŒ–å±•ç¤ºç¼–è¯‘æµç¨‹
  - **ä¼˜åŒ–ç« èŠ‚ç»“æ„**ï¼šæ›´æ¸…æ™°çš„ç»„ç»‡æ–¹å¼
  - **æ–‡ä»¶å¤§å°**ï¼šä» 716 è¡Œå‡å°‘åˆ°çº¦ 350 è¡Œï¼ˆå‡å°‘ 51%ï¼‰

- **v1.2.0** (2026-02-06): å°†ç¼–è¯‘ç¯å¢ƒå‡†å¤‡å†…å®¹æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å— `linux_compile_env_setup.md`
  - åˆ›å»º `linux_compile_env_setup.md` æ–‡ä»¶
  - ä»åŸæ–‡æ¡£ä¸­åˆ é™¤ç¬¬äºŒç« "ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"
  - æ›´æ–°ç« èŠ‚ç¼–å·
  - æ·»åŠ å¯¹æ–°æ¨¡å—çš„å¼•ç”¨å’ŒåŠ è½½è¯´æ˜

- **v1.1.2** (2026-02-06): æ˜ç¡®ç¼–è¯‘å‘½ä»¤è§„èŒƒå’Œå‚æ•°è¦æ±‚
  - å¼ºè°ƒå¿…é¡»åœ¨ OH_ROOT ç›®å½•ä¸‹æ‰§è¡Œç¼–è¯‘å‘½ä»¤
  - æ˜ç¡® `product_name=rk3568 system_size=standard` ä¸ºå¿…é€‰å‚æ•°
  - è¯´æ˜é»˜è®¤ç¼–è¯‘åŠ¨æ€æµ‹è¯•å¥—
  - é‡æ–°ç»„ç»‡"ç¼–è¯‘å‘½ä»¤è¯´æ˜"ï¼Œå¢åŠ å‚æ•°è¯¦ç»†è¯´æ˜è¡¨æ ¼

- **v1.1.1** (2026-02-06): æ˜ç¡®åŒºåˆ†ä¸¤ç§ build ç›®å½•çš„å¤„ç†è§„åˆ™
- **v1.1.0** (2026-02-05): æ·»åŠ ç¬¬å››ç« "é¢„ç¼–è¯‘æ¸…ç†ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰"
- **v1.0.0** (2025-01-31): åˆå§‹ç‰ˆæœ¬

---

## ä¸‰ã€ç¼–è¯‘å‘½ä»¤è¯´æ˜

### 3.1 ç¼–è¯‘å‘½ä»¤æ‰§è¡Œè§„èŒƒï¼ˆé‡è¦ï¼‰

> **âš ï¸ ç¼–è¯‘å‘½ä»¤æ‰§è¡Œè¦æ±‚**
>
> - âœ… **æ‰§è¡Œä½ç½®**ï¼šå¿…é¡»åœ¨ **OH_ROOT ç›®å½•**ä¸‹æ‰§è¡Œç¼–è¯‘å‘½ä»¤
> - âœ… **å¿…é€‰å‚æ•°**ï¼š`product_name=rk3568 system_size=standard` ä¸ºå¿…é€‰å‚æ•°ï¼Œä¸å¯ä¿®æ”¹æˆ–çœç•¥
> - âœ… **é»˜è®¤ç¼–è¯‘ç±»å‹**ï¼šåŠ¨æ€æµ‹è¯•å¥—ï¼ˆæ— éœ€æŒ‡å®š `xts_suitetype` å‚æ•°ï¼‰
> - âœ… **subagent æ‰§è¡Œ**ï¼šå¿…é¡»ä½¿ç”¨ general subagent æ‰§è¡Œç¼–è¯‘ä»»åŠ¡ï¼Œé¿å…ä¸»æµç¨‹ä¸­æ–­
> - âœ… **ç›‘å¬æœºåˆ¶**ï¼šå¿…é¡»ç›‘å¬ç¼–è¯‘è¿›ç¨‹ç›´è‡³å®Œæˆï¼Œç¡®ä¿ç¼–è¯‘çŠ¶æ€æ­£ç¡®è¿”å›
> - âŒ **ç¦æ­¢æ“ä½œ**ï¼šä¸è¦åœ¨æµ‹è¯•å¥—ç›®å½•ä¸‹æ‰§è¡Œç¼–è¯‘å‘½ä»¤
> - âŒ **ç¦æ­¢æ“ä½œ**ï¼šä¸è¦ä¿®æ”¹ `product_name` å’Œ `system_size` å‚æ•°å€¼
> - âŒ **ç¦æ­¢æ“ä½œ**ï¼šä¸è¦åœ¨ä¸»æµç¨‹ç›´æ¥æ‰§è¡Œç¼–è¯‘å‘½ä»¤ï¼Œå¿…é¡»é€šè¿‡ subagent

> **ğŸ“Œ subagent æ‰§è¡Œè§„èŒƒï¼ˆv1.16.0+ï¼‰**
>
> - **æ‰§è¡Œæ–¹å¼**ï¼šä½¿ç”¨ general subagent æ‰§è¡Œç¼–è¯‘ä»»åŠ¡
> - **ç›‘å¬æœºåˆ¶**ï¼šæŒç»­ç›‘å¬ç¼–è¯‘è¿›ç¨‹ï¼Œç›´è‡³å®Œæˆ
> - **é”™è¯¯å¤„ç†**ï¼š
>   - **è¯­æ³•é”™è¯¯**ï¼šè‡ªåŠ¨åˆ†æé”™è¯¯æ—¥å¿—ï¼Œä¿®å¤è¯­æ³•é—®é¢˜å¹¶é‡è¯•ç¼–è¯‘
>   - **é…ç½®é”™è¯¯**ï¼šæ£€æµ‹åˆ°å·¥ç¨‹é…ç½®é—®é¢˜æ—¶ï¼Œæš‚åœç¼–è¯‘ï¼Œå‘ç”¨æˆ·ç¡®è®¤åæ‰ä¿®æ”¹
> - **è¿”å›ç»“æœ**ï¼šsubagent å¿…é¡»è¿”å›è¯¦ç»†çš„ç¼–è¯‘ç»“æœå’Œé”™è¯¯ä¿¡æ¯

### 3.2 å•ç›®æ ‡ç¼–è¯‘

#### 3.2.1 æ ‡å‡†ç¼–è¯‘å‘½ä»¤

```bash
# åœ¨ OH_ROOT ç›®å½•ä¸‹æ‰§è¡Œ
cd {OH_ROOT}
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite={æµ‹è¯•å¥—åç§°}
```

**å®Œæ•´ç¤ºä¾‹**ï¼š
```bash
# ç¤ºä¾‹ 1ï¼šç¼–è¯‘åŠ¨æ€æµ‹è¯•å¥—ï¼ˆé»˜è®¤ï¼Œæ— éœ€æŒ‡å®š xts_suitetypeï¼‰
cd /mnt/data/c00810129/oh_0130
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=ActsUiTest

# ç¤ºä¾‹ 2ï¼šç¼–è¯‘é™æ€æµ‹è¯•å¥—ï¼ˆéœ€è¦æ·»åŠ  xts_suitetype=hap_staticï¼‰
cd /mnt/data/c00810129/oh_0130
./test/xts/acts/build.sh product_name=rk3568 system_size=standard xts_suitetype=hap_static suite=ActsUiStaticTest
```

**å¦‚ä½•åŒºåˆ†åŠ¨æ€å’Œé™æ€æµ‹è¯•å¥—**ï¼š

åŠ¨æ€æµ‹è¯•å¥—ä½¿ç”¨ `ohos_js_app_suite`ï¼š
```gni
# testfwk/uitest_errorcode/BUILD.gnï¼ˆåŠ¨æ€æµ‹è¯•å¥—ï¼‰
ohos_js_app_suite("ActsUiTestErrorCodeTest") {
  test_hap = true
  testonly = true
  ...
}
```

é™æ€æµ‹è¯•å¥—ä½¿ç”¨ `ohos_js_app_static_suite`ï¼š
```gni
# xts/ActsCanIUseStatic/BUILD.gnï¼ˆé™æ€æµ‹è¯•å¥—ï¼‰
ohos_js_app_static_suite("ActsCanIUseStaticTest") {
  ...
}
```

#### 3.2.2 å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | æ˜¯å¦å¿…é€‰ | å¯é€‰å€¼ | è¯´æ˜ |
|------|------|---------|--------|------|
| `product_name` | äº§å“åç§° | âœ… **å¿…é€‰** | rk3568 | **å›ºå®šå€¼ï¼Œä¸å¯ä¿®æ”¹** |
| `system_size` | ç³»ç»Ÿè§„æ ¼ | âœ… **å¿…é€‰** | standard | **å›ºå®šå€¼ï¼Œä¸å¯ä¿®æ”¹** |
| `suite` | æµ‹è¯•å¥—åç§° | âœ… å¿…é€‰ | {æµ‹è¯•å¥—åç§°} | ä» BUILD.gn ä¸­è·å– |
| `xts_suitetype` | æµ‹è¯•å¥—ç±»å‹ | âŒ å¯é€‰ | hap_static | **é»˜è®¤ä¸æŒ‡å®šï¼ˆåŠ¨æ€æµ‹è¯•å¥—ï¼‰** |

**é‡è¦è¯´æ˜**ï¼š
- `product_name=rk3568` å’Œ `system_size=standard` æ˜¯å¿…é€‰å‚æ•°ï¼Œå€¼å›ºå®šï¼Œä¸å¯ä¿®æ”¹
- `suite` å‚æ•°æŒ‡å®šè¦ç¼–è¯‘çš„æµ‹è¯•å¥—åç§°ï¼ˆå¿…é€‰ï¼‰
- **é»˜è®¤ç¼–è¯‘åŠ¨æ€æµ‹è¯•å¥—**ï¼Œæ— éœ€æŒ‡å®š `xts_suitetype` å‚æ•°
- åªæœ‰ç¼–è¯‘é™æ€æµ‹è¯•å¥—æ—¶æ‰éœ€è¦æ·»åŠ  `xts_suitetype=hap_static` å‚æ•°

#### 3.2.3 ç¼–è¯‘ç›®æ ‡åç§°

ç¼–è¯‘ç›®æ ‡åç§°ç”± `BUILD.gn` ä¸­ `ohos_js_app_suite()` çš„ç¬¬ä¸€ä¸ªå‚æ•°å†³å®šï¼š

```gni
# testfwk/uitest_errorcode/BUILD.gn
ohos_js_app_suite("ActsUiTestErrorCodeTest") {  # â† "ActsUiTestErrorCodeTest" å°±æ˜¯ç¼–è¯‘ç›®æ ‡åç§°
  test_hap = true
  testonly = true
  ...
}
```

**ç¼–è¯‘å‘½ä»¤ä¸­çš„ suite å‚æ•°å€¼å¿…é¡»ä¸ BUILD.gn ä¸­çš„åç§°ä¸€è‡´**ï¼š
```bash
suite=ActsUiTestErrorCodeTest  # âœ… æ­£ç¡®ï¼šä¸ BUILD.gn ä¸­çš„åç§°ä¸€è‡´
```

### 3.3 ç¼–è¯‘å¤šä¸ªç›®æ ‡

#### 3.3.1 ç¼–è¯‘é™åˆ¶

**é‡è¦é™åˆ¶**ï¼š`build.sh` å‘½ä»¤çš„ `suite` å‚æ•°**ä¸æ”¯æŒæŒ‡å®šå¤šä¸ªç¼–è¯‘ç›®æ ‡**ã€‚

```bash
# âŒ é”™è¯¯ï¼šä¸æ”¯æŒä¸€æ¬¡ç¼–è¯‘å¤šä¸ª suite
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=ActsUiTest,ActsArkUITest

# âŒ é”™è¯¯ï¼šä¸æ”¯æŒå¤šæ¬¡æŒ‡å®š suite å‚æ•°
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=ActsUiTest suite=ActsArkUITest
```

#### 3.3.2 æ›¿ä»£æ–¹æ¡ˆï¼šç¼–è¯‘ groupï¼ˆæŒ‰ BUILD.gn é…ç½®ï¼‰

**é‡è¦è¯´æ˜**ï¼šè™½ç„¶ `suite` å‚æ•°ä¸æ”¯æŒæŒ‡å®šå¤šä¸ªå…·ä½“çš„æµ‹è¯•å¥—ï¼Œä½†å¯ä»¥**æŒ‰ç…§ BUILD.gn ä¸­çš„ group é…ç½®**æ¥ç¼–è¯‘å¤šä¸ªç›¸å…³ç›®æ ‡ã€‚æ¯ä¸ªå­ç³»ç»Ÿçš„ BUILD.gn æ–‡ä»¶ä¸­å®šä¹‰äº† `group()`ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ç¼–è¯‘è¯¥ group ä¸‹çš„æ‰€æœ‰ä¾èµ–æµ‹è¯•å¥—ã€‚

**æŸ¥æ‰¾ group åç§°çš„æ–¹æ³•**ï¼š

1. æŸ¥çœ‹å­ç³»ç»Ÿçš„ BUILD.gn æ–‡ä»¶
2. æ‰¾åˆ° `group("å­ç³»ç»Ÿå")` çš„å®šä¹‰
3. ä½¿ç”¨è¯¥ group åç§°ä½œä¸º `suite` å‚æ•°å€¼

##### ç¤ºä¾‹ 1ï¼šç¼–è¯‘æµ‹è¯•æ¡†æ¶ï¼ˆtestfwkï¼‰çš„æ‰€æœ‰æµ‹è¯•å¥—

**ç¼–è¯‘å‘½ä»¤**ï¼š
```bash
# ç¼–è¯‘æµ‹è¯•æ¡†æ¶çš„æ‰€æœ‰æµ‹è¯•å¥—
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=testfwk
```

**é…ç½®ä¾æ®**ï¼š
```bash
# BUILD.gn æ–‡ä»¶ä½ç½®
/test/xts/acts/testfwk/BUILD.gn

# å…³é”®é…ç½®ï¼ˆç¬¬17è¡Œï¼‰
group("testfwk") {
  testonly = true
  if (ace_engine_feature_wearable) {
    deps = [
      "uitest:ActsUiTest",
      "uitestScene:ActsUiTestScene",
      "uitestStatic:ActsUiStaticTest",
    ]
  } else {
    deps = [
      "perftest:ActsPerfTestTest",
      "perftestStatic:ActsPerfTestTestStaticTest",
      "perftestScene:ActsPerfTestScene",
      "uitest:ActsUiTest",
      "uitestScene:ActsUiTestScene",
      "uitestStatic:ActsUiStaticTest",
      "uitest_errorcode:ActsUiTestErrorCodeTest",
      "uitest_errorcode_static:ActsUiTestErrorCodeStaticTest",
      "uitestQuarantine:ActsUiTestQuarantineTest",
      "uitest_quarantine_static:ActsUiTestQuarStaticTest",
    ]
  }
  if (arkxtest_product_feature == "pc") {
    deps += [
      "uitestScene:ActsUiTestScene",
      "uitest_pc:ActsUiPCTest",
      "uitest_pc_static:ActsUiPCStaticTest",
    ]
  }
}
```

**è¯´æ˜**ï¼š
- `suite=testfwk` ä¼šç¼–è¯‘ `group("testfwk")` ä¸‹æ‰€æœ‰ deps ä¾èµ–çš„æµ‹è¯•å¥—
- æ ‡å‡†ç³»ç»Ÿä¼šç¼–è¯‘ 8-10 ä¸ªæµ‹è¯•å¥—ï¼ˆå–å†³äºäº§å“ç‰¹æ€§ï¼‰
- é€‚ç”¨äºéœ€è¦ç¼–è¯‘æµ‹è¯•æ¡†æ¶æ‰€æœ‰æµ‹è¯•å¥—çš„åœºæ™¯

##### ç¤ºä¾‹ 2ï¼šç¼–è¯‘ ArkUI å­ç³»ç»Ÿçš„æ‰€æœ‰æµ‹è¯•å¥—

**ç¼–è¯‘å‘½ä»¤**ï¼š
```bash
# ç¼–è¯‘ ArkUI å­ç³»ç»Ÿçš„æ‰€æœ‰æµ‹è¯•å¥—
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=arkui
```

**é…ç½®ä¾æ®**ï¼š
```bash
# BUILD.gn æ–‡ä»¶ä½ç½®
/test/xts/acts/arkui/BUILD.gn

# å…³é”®é…ç½®ï¼ˆç¬¬15è¡Œï¼‰
group("arkui") {
  testonly = true
  if (ace_engine_feature_wearable) {
    deps = [
      "ace_c_accessibility_api_16:ActsAceCapiInspector16Test",
      "ace_c_arkui_test:ActsAceCArkUITest",
      "ace_c_arkui_test_api13:ActsAceCArkUI13Test",
      # ... æ›´å¤šæµ‹è¯•å¥—
    ]
  } else {
    deps = [
      "ace_c_accessibility_api_16:ActsAceCapiInspector16Test",
      "ace_c_arkui_test:ActsAceCArkUITest",
      "ace_c_arkui_test_api13:ActsAceCArkUI13Test",
      # ... æ›´å¤šæµ‹è¯•å¥—ï¼ˆ30+ ä¸ªæµ‹è¯•å¥—ï¼‰
    ]
  }
}
```

**è¯´æ˜**ï¼š
- `suite=arkui` ä¼šç¼–è¯‘ `group("arkui")` ä¸‹æ‰€æœ‰ deps ä¾èµ–çš„æµ‹è¯•å¥—
- ArkUI å­ç³»ç»ŸåŒ…å« 30+ ä¸ªæµ‹è¯•å¥—
- é€‚ç”¨äºéœ€è¦ç¼–è¯‘ ArkUI æ‰€æœ‰æµ‹è¯•å¥—çš„åœºæ™¯

##### é€šç”¨è§„åˆ™æ€»ç»“

| å­ç³»ç»Ÿ | group åç§° | ç¼–è¯‘å‘½ä»¤ | BUILD.gn ä½ç½® | ç¼–è¯‘çš„æµ‹è¯•å¥—æ•°é‡ |
|--------|-----------|---------|--------------|----------------|
| **æµ‹è¯•æ¡†æ¶** | `testfwk` | `suite=testfwk` | `/test/xts/acts/testfwk/BUILD.gn` | 8-10 ä¸ª |
| **ArkUI** | `arkui` | `suite=arkui` | `/test/xts/acts/arkui/BUILD.gn` | 30+ ä¸ª |
| **multimedia** | `multimedia` | `suite=multimedia` | `/test/xts/acts/multimedia/BUILD.gn` | æ ¹æ®é…ç½® |
| **å…¶ä»–å­ç³»ç»Ÿ** | è§å¯¹åº” BUILD.gn | `suite={å­ç³»ç»Ÿå}` | `/test/xts/acts/{å­ç³»ç»Ÿ}/BUILD.gn` | æ ¹æ®é…ç½® |

**ä½¿ç”¨å»ºè®®**ï¼š
1. **ç¼–è¯‘å•ä¸ªæµ‹è¯•å¥—**ï¼šä½¿ç”¨ `suite=æµ‹è¯•å¥—åç§°`ï¼ˆå¦‚ `suite=ActsUiTest`ï¼‰
2. **ç¼–è¯‘å­ç³»ç»Ÿæ‰€æœ‰æµ‹è¯•å¥—**ï¼šä½¿ç”¨ `suite=å­ç³»ç»Ÿå`ï¼ˆå¦‚ `suite=arkui`ï¼‰
3. **æŸ¥æ‰¾å¯ç”¨ group**ï¼šæŸ¥çœ‹å¯¹åº”å­ç³»ç»Ÿçš„ BUILD.gn æ–‡ä»¶ï¼Œæ‰¾åˆ° `group()` å®šä¹‰

### 3.4 ç¼–è¯‘è¾“å‡ºä½ç½®

```
out/{product_name}/suites/acts/acts/testcases/
â”œâ”€â”€ .....hap
â”œâ”€â”€ ActsArkUITest.hap
â””â”€â”€ ActsUiTest.hap
```

---

## å››ã€ç¼–è¯‘è¾“å‡ºç®¡ç†

### 4.1 ç¼–è¯‘äº§ç‰©éªŒè¯

#### 4.1.1 æ£€æŸ¥ç¼–è¯‘çŠ¶æ€

```bash
# æŸ¥çœ‹ç¼–è¯‘æ—¥å¿—
tail -f out/rk3568/suites/acts/acts/build.log

# æ£€æŸ¥ç¼–è¯‘é”™è¯¯
grep -i "error" out/rk3568/suites/acts/acts/build.log
```

#### 4.1.2 éªŒè¯è¾“å‡ºæ–‡ä»¶

```bash
# æ£€æŸ¥ HAP åŒ…æ˜¯å¦å­˜åœ¨
test -f out/rk3568/suites/acts/acts/testcases/ActsUiTest/ActsUiTest.hap && echo "âœ… HAP å­˜åœ¨" || echo "âŒ HAP ä¸å­˜åœ¨"

# æŸ¥çœ‹ HAP åŒ…å¤§å°
du -sh out/rk3568/suites/acts/acts/testcases/
```

### 4.2 ç¼–è¯‘é”™è¯¯å¤„ç†ï¼ˆv1.16.0+ï¼‰

#### 4.2.1 é”™è¯¯ç±»å‹è¯†åˆ«

**subagent æ‰§è¡Œç¼–è¯‘æ—¶ï¼Œéœ€è¯†åˆ«ä»¥ä¸‹é”™è¯¯ç±»å‹**ï¼š

| é”™è¯¯ç±»å‹ | å¤„ç†ç­–ç•¥ | è¯´æ˜ |
|---------|---------|------|
| **è¯­æ³•é”™è¯¯** | **è‡ªåŠ¨ä¿®å¤** | åˆ†æé”™è¯¯æ—¥å¿—ï¼Œå®šä½è¯­æ³•é—®é¢˜ï¼Œä¿®æ”¹ä»£ç åé‡è¯• |
| **é…ç½®é”™è¯¯** | **ç¡®è®¤åä¿®æ”¹** | æ£€æµ‹åˆ° BUILD.gnã€è¯ä¹¦ç­‰é…ç½®é—®é¢˜ï¼Œæš‚åœå¹¶å‘ç”¨æˆ·ç¡®è®¤ |
| **ä¾èµ–é”™è¯¯** | **æ‰‹åŠ¨æ’æŸ¥** | ä¾èµ–ç¼ºå¤±æˆ–è·¯å¾„é”™è¯¯ï¼Œéœ€æ‰‹åŠ¨æ£€æŸ¥å’Œä¿®å¤ |
| **ç¯å¢ƒé”™è¯¯** | **æ‰‹åŠ¨æ’æŸ¥** | Node.js ç‰ˆæœ¬ã€ç£ç›˜ç©ºé—´ç­‰ç¯å¢ƒé—®é¢˜ï¼Œéœ€æ‰‹åŠ¨ä¿®å¤ |

#### 4.2.2 è¯­æ³•é”™è¯¯è‡ªåŠ¨ä¿®å¤æµç¨‹

```
ç¼–è¯‘å¤±è´¥
    â”‚
    â–¼
åˆ†æé”™è¯¯æ—¥å¿—
    â”‚
    â”œâ”€ å®šä½é”™è¯¯ä½ç½®ï¼ˆæ–‡ä»¶ã€è¡Œå·ï¼‰
    â”œâ”€ è¯†åˆ«é”™è¯¯ç±»å‹ï¼ˆè¯­æ³•ã€ç±»å‹ã€å¯¼å…¥ç­‰ï¼‰
    â””â”€ æå–é”™è¯¯ä¸Šä¸‹æ–‡
    â”‚
    â–¼
ç”Ÿæˆä¿®å¤æ–¹æ¡ˆ
    â”‚
    â”œâ”€ è¯­æ³•é”™è¯¯ï¼šä¿®æ­£è¯­æ³•
    â”œâ”€ ç±»å‹é”™è¯¯ï¼šæ·»åŠ ç±»å‹æ³¨è§£
    â”œâ”€ å¯¼å…¥é”™è¯¯ï¼šæ·»åŠ ç¼ºå¤±çš„å¯¼å…¥
    â””â”€ API é”™è¯¯ï¼šä¿®æ­£ API è°ƒç”¨
    â”‚
    â–¼
åº”ç”¨ä¿®å¤
    â”‚
    â”œâ”€ ä¿®æ”¹æºä»£ç æ–‡ä»¶
    â””â”€ ä¿å­˜ä¿®æ”¹
    â”‚
    â–¼
é‡æ–°ç¼–è¯‘
    â”‚
    â”œâ”€ æ‰§è¡Œç¼–è¯‘å‘½ä»¤
    â””â”€ ç›‘å¬ç¼–è¯‘çŠ¶æ€
    â”‚
    â–¼
ç¼–è¯‘æˆåŠŸï¼Ÿ
    â”‚
    â”œâ”€ Yes â†’ è¾“å‡ºæˆåŠŸç»“æœ
    â””â”€ No â†’ é‡å¤ä¸Šè¿°æµç¨‹ï¼ˆæœ€å¤šé‡è¯• 3 æ¬¡ï¼‰
```

#### 4.2.3 é…ç½®é”™è¯¯ç¡®è®¤æµç¨‹

```
æ£€æµ‹åˆ°é…ç½®é”™è¯¯
    â”‚
    â–¼
è¯†åˆ«é…ç½®ç±»å‹
    â”‚
    â”œâ”€ BUILD.gn é…ç½®é”™è¯¯
    â”œâ”€ è¯ä¹¦æ–‡ä»¶é—®é¢˜
    â”œâ”€ ç¯å¢ƒå˜é‡é—®é¢˜
    â””â”€ å·¥ç¨‹è·¯å¾„é—®é¢˜
    â”‚
    â–¼
å‘ç”¨æˆ·ç¡®è®¤
    â”‚
    â”œâ”€ è¯´æ˜é…ç½®é—®é¢˜
    â”œâ”€ è¯´æ˜ä¿®æ”¹æ–¹æ¡ˆ
    â”œâ”€ è¯´æ˜å½±å“èŒƒå›´
    â””â”€ è¯¢é—®æ˜¯å¦åŒæ„ä¿®æ”¹
    â”‚
    â–¼
ç”¨æˆ·ç¡®è®¤ï¼Ÿ
    â”‚
    â”œâ”€ Yes â†’ åº”ç”¨ä¿®æ”¹å¹¶é‡æ–°ç¼–è¯‘
    â””â”€ No â†’ æš‚åœç¼–è¯‘ï¼Œç­‰å¾…ç”¨æˆ·æ‰‹åŠ¨å¤„ç†
```

#### 4.2.4 é”™è¯¯å¤„ç†ç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼šè¯­æ³•é”™è¯¯è‡ªåŠ¨ä¿®å¤**

```
é”™è¯¯æ—¥å¿—ï¼š
ERROR in entry/src/ohosTest/ets/test/Component.onClick.test.ets:45:15
TS1005: ')' expected.

åˆ†æç»“æœï¼š
- é”™è¯¯ä½ç½®ï¼šComponent.onClick.test.ets:45:15
- é”™è¯¯ç±»å‹ï¼šè¯­æ³•é”™è¯¯ï¼ˆç¼ºå°‘å³æ‹¬å·ï¼‰
- é”™è¯¯ä»£ç ï¼šonClick(() => { console.log('test' }  // ç¼ºå°‘ )

ä¿®å¤æ–¹æ¡ˆï¼š
åœ¨ç¬¬ 45 è¡Œæœ«å°¾æ·»åŠ å³æ‹¬å·

ä¿®å¤åä»£ç ï¼š
onClick(() => { console.log('test') })  // å·²ä¿®å¤

é‡æ–°ç¼–è¯‘ï¼š
âœ… ç¼–è¯‘æˆåŠŸ
```

**ç¤ºä¾‹ 2ï¼šé…ç½®é”™è¯¯ç¡®è®¤**

```
é”™è¯¯æ—¥å¿—ï¼š
ERROR: certificate not found: ./signature/test.p7b

åˆ†æç»“æœï¼š
- é”™è¯¯ç±»å‹ï¼šé…ç½®é”™è¯¯ï¼ˆè¯ä¹¦æ–‡ä»¶ç¼ºå¤±ï¼‰
- é…ç½®ä½ç½®ï¼šBUILD.gn:certificate_profile
- å½±å“èŒƒå›´ï¼šæµ‹è¯•å¥—ç¼–è¯‘

å‘ç”¨æˆ·ç¡®è®¤ï¼š
â“ æ£€æµ‹åˆ°è¯ä¹¦æ–‡ä»¶ç¼ºå¤±
   - ç¼ºå¤±æ–‡ä»¶ï¼š./signature/test.p7b
   - ä¿®æ”¹æ–¹æ¡ˆï¼šå¤åˆ¶é»˜è®¤è¯ä¹¦æ–‡ä»¶
   - å½±å“èŒƒå›´ï¼šæµ‹è¯•å¥—ç¼–è¯‘
   - æ˜¯å¦åŒæ„ä¿®æ”¹ï¼Ÿ

ç”¨æˆ·ç¡®è®¤ï¼š
âœ… åŒæ„ä¿®æ”¹

åº”ç”¨ä¿®æ”¹ï¼š
cp ./signature/default.p7b ./signature/test.p7b

é‡æ–°ç¼–è¯‘ï¼š
âœ… ç¼–è¯‘æˆåŠŸ
```

---

## äº”ã€å‚è€ƒç¤ºä¾‹

### 5.1 å®Œæ•´ç¼–è¯‘ç¤ºä¾‹

```bash
# æ­¥éª¤1ï¼šå‡†å¤‡ç¼–è¯‘ç¯å¢ƒï¼ˆé¦–æ¬¡å¿…éœ€ï¼‰
# å‚è€ƒï¼šlinux_compile_env_setup.md

# æ­¥éª¤2ï¼šé…ç½® BUILD.gnï¼ˆé¦–æ¬¡å¿…éœ€ï¼‰
# å‚è€ƒï¼šbuild_gn_config.md

# æ­¥éª¤3ï¼šé¢„ç¼–è¯‘æ¸…ç†ï¼ˆæ¯æ¬¡ç¼–è¯‘å‰å¿…éœ€ï¼‰
# å‚è€ƒï¼šlinux_prebuild_cleanup.md
# ä½¿ç”¨ç»Ÿä¸€çš„ cleanup_group.sh è„šæœ¬
./cleanup_group.sh {OH_ROOT} testfwk

# æ­¥éª¤4ï¼šæ‰§è¡Œç¼–è¯‘
cd /mnt/data/c00810129/oh_0130
./test/xts/acts/build.sh product_name=rk3568 system_size=standard suite=ActsUiTestErrorCodeTest

# æ­¥éª¤5ï¼šéªŒè¯ç¼–è¯‘äº§ç‰©
test -f out/rk3568/suites/acts/acts/testcases/ActsUiTestErrorCodeTest/ActsUiTestErrorCodeTest.hap && echo "âœ… ç¼–è¯‘æˆåŠŸ" || echo "âŒ ç¼–è¯‘å¤±è´¥"
```

### 5.2 å‚è€ƒè·¯å¾„

| ç±»å‹ | è·¯å¾„ |
|------|------|
| ç¼–è¯‘è„šæœ¬ | `./test/xts/acts/build.sh` |
| æ¨¡æ¿æ–‡ä»¶ | `./test/xts/tools/build/suite.gni` |
| æµ‹è¯•æ¡†æ¶ | `./test/xts/acts/` |
| ç¼–è¯‘è¾“å‡º | `out/{product_name}/suites/acts/acts/testcases/` |

---

## å…­ã€ç‰ˆæœ¬å†å²

- **v2.1.0** (2026-02-10): **ç²¾ç®€æ¸…ç†æ–¹æ¡ˆ**ï¼Œç»Ÿä¸€ä½¿ç”¨ cleanup_group.sh
  - **æ›´æ–°æ¸…ç†ç¤ºä¾‹**ï¼šå°†æ‰‹åŠ¨æ¸…ç†å‘½ä»¤æ”¹ä¸ºä½¿ç”¨ç»Ÿä¸€çš„ cleanup_group.sh è„šæœ¬
  - **æ›´æ–°å±‚çº§ä¿¡æ¯**ï¼šæ¨¡å—å±‚çº§ä» L2_Analysis æ›´æ­£ä¸º L4_Build
  - **ä¿æŒä¸€è‡´æ€§**ï¼šä¸ç²¾ç®€åçš„ linux_prebuild_cleanup.md ä¿æŒä¸€è‡´
  
- **v2.0.0** (2026-02-06): å¤§è§„æ¨¡é‡æ„ï¼Œæ¨¡å—åŒ–æ‹†åˆ†
  - **æ‹†åˆ†å‡º 4 ä¸ªç‹¬ç«‹æ¨¡å—**ï¼š
    - `linux_compile_env_setup.md` - ç¼–è¯‘ç¯å¢ƒå‡†å¤‡
    - `linux_prebuild_cleanup.md` - é¢„ç¼–è¯‘æ¸…ç†
    - `build_gn_config.md` - BUILD.gn é…ç½®
    - `linux_compile_troubleshooting.md` - ç¼–è¯‘é—®é¢˜æ’æŸ¥
  - **ç®€åŒ–ä¸»æ–‡ä»¶**ï¼šä¸“æ³¨äºæ ¸å¿ƒç¼–è¯‘å·¥ä½œæµ
  - **æ–°å¢å·¥ä½œæµç¨‹å›¾**ï¼šå¯è§†åŒ–å±•ç¤ºç¼–è¯‘æµç¨‹
  - **ä¼˜åŒ–ç« èŠ‚ç»“æ„**ï¼šæ›´æ¸…æ™°çš„ç»„ç»‡æ–¹å¼
  - **æ–‡ä»¶å¤§å°**ï¼šä» 716 è¡Œå‡å°‘åˆ°çº¦ 350 è¡Œï¼ˆå‡å°‘ 51%ï¼‰
- **v1.2.0** (2026-02-06): å°†ç¼–è¯‘ç¯å¢ƒå‡†å¤‡å†…å®¹æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å— `linux_compile_env_setup.md`
  - åˆ›å»º `linux_compile_env_setup.md` æ–‡ä»¶
  - ä»åŸæ–‡æ¡£ä¸­åˆ é™¤ç¬¬äºŒç« "ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"
  - æ›´æ–°ç« èŠ‚ç¼–å·
  - æ·»åŠ å¯¹æ–°æ¨¡å—çš„å¼•ç”¨å’ŒåŠ è½½è¯´æ˜
- **v1.1.2** (2026-02-06): æ˜ç¡®ç¼–è¯‘å‘½ä»¤è§„èŒƒå’Œå‚æ•°è¦æ±‚
  - å¼ºè°ƒå¿…é¡»åœ¨ OH_ROOT ç›®å½•ä¸‹æ‰§è¡Œç¼–è¯‘å‘½ä»¤
  - æ˜ç¡® `product_name=rk3568 system_size=standard` ä¸ºå¿…é€‰å‚æ•°
  - è¯´æ˜é»˜è®¤ç¼–è¯‘åŠ¨æ€æµ‹è¯•å¥—
  - é‡æ–°ç»„ç»‡"ç¼–è¯‘å‘½ä»¤è¯´æ˜"ï¼Œå¢åŠ å‚æ•°è¯¦ç»†è¯´æ˜è¡¨æ ¼
- **v1.1.1** (2026-02-06): æ˜ç¡®åŒºåˆ†ä¸¤ç§ build ç›®å½•çš„å¤„ç†è§„åˆ™
- **v1.1.0** (2026-02-05): æ·»åŠ ç¬¬å››ç« "é¢„ç¼–è¯‘æ¸…ç†ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰"
- **v1.0.0** (2025-01-31): åˆå§‹ç‰ˆæœ¬
