# 测试执行指南

## 运行测试

上传完成后，执行以下命令运行测试：

```bash
hdc -s ${WINDOWS_IP}:8710 shell "chmod +x /data/test/<TARGET_NAME> && /data/test/<TARGET_NAME>"
```

## 查看实时日志

```bash
hdc -s ${WINDOWS_IP}:8710 shell "/data/test/<TARGET_NAME>"
```

## 清理设备测试文件

```bash
hdc -s ${WINDOWS_IP}:8710 shell "rm -rf /data/test/<TARGET_NAME>"
```

## 完整工作流程

### 流程判断逻辑

```
用户请求
    │
    ├─ 包含"编写"/"写"/"生成"/"创建"等动词？
    │   │
    │   YES → 完整流程：编写 → 编译 → 部署 → 运行 → 修复
    │
    └─ NO（仅运行请求）
        │
        → 查找编译产物
            │
            ├─ 找到 → 跳过编译，直接部署运行
            │
            └─ 找不到 → 编译 → 部署 → 运行 → 修复
```

### 仅运行用例（优先流程）

当用户仅说"运行用例"、"跑一下这个用例"、"执行测试"等：

1. **查找编译产物**

   ```bash
   cd ${OH_OUTPUT}/ && find . -name <TARGET_NAME>
   ```

2. **找到** → 直接部署运行
3. **找不到** → 先编译再部署运行

### 编写并运行（完整流程）

1. **编写** - 生成或修改测试代码
2. **编译** - 执行构建命令
3. **部署** - 上传到设备
4. **运行** - 执行测试用例
5. **验证** - 检查结果，修复错误直至通过

## 禁止行为

1. ❌ 不要只输出命令让用户自己执行
2. ❌ 不要跳过上传步骤直接运行
3. ❌ 不要假设测试文件已存在设备
4. ❌ 不要改变 target 名称大小写
