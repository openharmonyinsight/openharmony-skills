# PRD 文档格式规范

本文档规定 HM Desktop PRD 文档的必需格式。

## 文档头部

每个 PRD 必须以以下内容开头：

```markdown
# HM Desktop X.X 特性名称 PRD

| 文档版本 | VX.X |
|---------|------|
| 创建日期 | YYYY-MM-DD |
| 文档作者 | 作者团队 |
```

## 必需章节

### 1. 产品概述

**必需子章节**：
- 1.1 产品定位
- 1.2 目标用户
- 1.3 核心价值

**内容要求**：
- 清晰定义功能是什么
- 明确目标用户群体
- 说明价值主张

### 2. 用户故事

**必需子章节**：
- 2.1 角色定义
- 2.2 使用场景
- 2.3 操作流程

**内容要求**：
- 定义所有与该功能交互的用户角色
- 为每个角色描述具体的使用场景
- 概述分步骤的操作流程

### 3. 关键体验路径 (KEP)

**必需子章节**：
- 3.1 KEP1：[功能名称]
- 3.2 KEP2：[功能名称]
- ...

**每个 KEP 必须包含**：
- **KEP ID**：格式 KEP1-01、KEP1-02 等
- **优先级**：P0/P1/P2
- **用户故事**：用户场景描述
- **验收标准**：明确的、可测试的条件

**KEP 命名规范**：
- 使用动词优先命名（如"查看磁盘信息"而非"磁盘信息查看"）
- 保持名称简洁（≤10个汉字）

### 4. 功能规格

**必需子章节**：
- 4.1 功能X
  - 功能描述
  - 输入
  - 输出
  - 约束条件

**内容要求**：
- 每个功能应映射到至少一个 KEP
- 必须明确指定输入/输出
- 约束条件必须包括技术、安全和可用性考虑

### 5. 验收标准

**每个功能必需**：
- 明确的、可测量的成功标准
- 测试条件
- 边界情况处理

**格式**：
```markdown
### 验收标准
- [ ] 条件1：具体可测试的条件描述
- [ ] 条件2：具体可测试的条件描述
```

### 6. 非功能需求

**必需子章节**：
- 6.1 性能指标
- 6.2 安全性
- 6.3 兼容性

**性能指标示例**：
- 响应时间：获取磁盘列表 < 100ms
- 格式化时间：1TB 磁盘快速格式化 < 30s
- 内存使用：服务进程 < 50MB

## 可选章节

### 7. 依赖关系

列出对以下内容的依赖：
- 其他系统组件
- 第三方库
- 硬件要求

### 8. 风险评估

识别：
- 技术风险
- 进度风险
- 资源风险

## 格式指南

### 语言
- HM Desktop PRD 使用简体中文
- 技术术语可在括号中包含英文

### 编号
- 主要章节使用中文编号（一、二、三、）
- 子章节使用十进制编号（1.1、1.2）

### 表格
- 使用 Markdown 表格格式
- 包含表格标题以保持清晰

### 代码块
- 使用带语言标识符的三个反引号
- 指定语言（cpp、idl、json 等）以启用语法高亮

## 版本控制

### 版本编号
- 格式：V{主版本}.{次版本}
- 主版本：重大功能增加
- 次版本：错误修复、澄清说明

### 变更记录
在文档末尾维护变更记录：

```markdown
## 变更记录

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|----------|------|
| V17.0 | 2026-01-31 | 初始版本 | 架构组 |
```

## 验证检查清单

提交 PRD 前，验证：

- [ ] 所有必需章节都存在
- [ ] 每个章节都有必需的子章节
- [ ] 至少定义了 3 个 KEP
- [ ] 每个 KEP 都有清晰的验收标准
- [ ] 所有功能都映射到至少一个 KEP
- [ ] 指定了非功能需求
- [ ] 文档遵循命名规范（prd_v{版本}.md）
- [ ] 头部中的版本号与文件名匹配
